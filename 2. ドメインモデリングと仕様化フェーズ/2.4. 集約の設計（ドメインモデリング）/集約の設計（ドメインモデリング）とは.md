
ロバストネス分析などで識別されたエンティティ候補をもとに、集約を詳細に設計します。

## 分析方法

#### 1. **不変条件（Invariants）**の洗い出し：

「この集約が常に満たすべきビジネスルールは何か？」（例：「注文の合計金額は、明細の合計と必ず一致する」）

#### 2. **集約ルート（Root Entity）**の決定：

外部から集約を操作する唯一の窓口となるエンティティを決めます。

#### 3. **エンティティ（Entity）と値オブジェクト（Value Object）の分類：

集約内の各要素が、IDで識別される「エンティティ」か、属性そのものが重要な「値オブジェクト」（例：「金額」「住所」）かを区別します。