# Signup Workflow 新規機能開発 - ヒアリングまとめ

## 日付
2025-11-04

## 参加者
- ドメインエキスパート(Signup workflow運営者)
- 開発者

---

## 1. 現状の「痛み」と課題 (As-Is)

### 主要な課題
複数工程を経るサインアップ時に、工程の途中で離脱してしまったユーザーが再度サインアップしようとすると**エラーが発生**してしまう。

### 現状のフロー
1. プランの選択
2. サインアップ(認証情報の登録)
3. 決済情報の登録

### 具体的な問題
- **離脱ポイント**: サインアップ(認証情報登録)完了後、決済情報登録前
- **エラー内容**: 『既に登録済みのユーザーです』というエラーが表示される
- **結果**: 決済情報の登録フォームに遷移できなくなる

### 運営コストへの影響
- **対応時間**: 1件あたり30分〜1時間
- **対応内容**: 運営者が手動で認証情報を削除
- **業務への影響**: 他の重要な業務が圧迫されている(影響大)

### ユーザー体験への影響
- **問い合わせなしでの離脱率**: 全体の約10%
- **対応時間**: 問い合わせから再サインアップ可能になるまで約1時間
- **機会損失**: サインアップを諦めるユーザーが存在

---

## 2. 根本原因の分析 (Why)

### なぜこの問題が発生するのか?
1. サインアップ(認証情報登録)が完了すると、システム上は「サインイン可能なユーザー」として扱われる
2. 決済情報が未登録でも、認証情報は登録済みの状態
3. 再度サインアップしようとすると、認証情報の重複チェックでエラーになる
4. システムに「工程の完了状態を管理する仕組み」がない

### なぜ運営コストが高いのか?
1. ユーザーごとに手動対応が必要
2. 認証情報の削除という**運用回避策**でしか対応できない
3. 問い合わせ対応 → 調査 → 削除作業 → ユーザー通知という**複数のステップ**が必要

### なぜビジネスに影響があるのか?
1. 10%のユーザーは問い合わせせずに離脱 = **機会損失**
2. 手動対応により**他業務が圧迫** = 事業成長の阻害
3. ユーザー体験の悪化 = **ブランドイメージの低下**

---

## 3. 理想の状態 (To-Be)

### 基本コンセプト
**「工程の途中で離脱した場合でも、その途中の工程から再開できる」**

### 理想のユーザー体験
1. ユーザーがサインアップ途中で離脱(例: 決済情報登録前)
2. ユーザーが再度サインインまたはサインアップを試みる
3. システムが工程の完了状態を判断
   - **全工程未完了** → 次に実行すべき工程のフォームに自動遷移
   - **全工程完了** → 通常通りサインイン
   - **認証情報登録済み** → 『既に登録されているユーザーです』エラー(全工程完了の場合のみ)

### 技術的要件
- **工程管理**: 各ユーザーの工程完了状態をシステムで記録・管理
- **オーケストレーション**: Temporalを活用した実装
- **自動遷移**: 未完了工程への自動リダイレクト機能

### 工程の制約(今回の要件)
- ✅ 工程は**順番通りに完了**する必要がある
- ✅ 後から戻って変更する柔軟性は**不要**
- ❌ 工程の順序変更は**今回対象外**(将来的には対応したい)
- ❌ 条件による工程スキップは**今回対象外**(将来的には対応したい)

### 将来の拡張性(メモ)
- 工程の順序変更への対応
- 後から戻って変更できる柔軟性の追加
- 条件による工程スキップ機能
- 新しい工程の追加(柔軟に対応できる設計が望ましい)

---

## 4. ビジネス価値 (目的)

### 主要なビジネス価値

#### 1. サポートコストの削減
- **手動対応をゼロにする**(最重要目標)
- 運営者の工数を削減し、他の重要業務に集中できる

#### 2. 機会損失の削減
- 10%の「問い合わせせず離脱」ユーザーを救済
- コンバージョン率の向上

#### 3. ユーザー満足度の向上
- スムーズなサインアップ体験の提供
- 待ち時間の削減(現状1時間 → 即時)
- エラーによるストレスの解消

#### 4. 事業のスケーラビリティ向上
- ユーザー数が増えても運営コストが増加しない仕組み
- 自動化による安定運用

---

## 5. 成功の指標 (KPI)

### 最重要指標
- ✅ **手動対応件数がゼロになる**

### 副次的指標
- サインアップ完了率の向上
- サポート問い合わせ件数の削減
- ユーザー離脱率の改善(現状10% → 目標値設定)

---

## 6. 技術的制約・前提

### 使用技術
- **オーケストレーション**: Temporal

### システムの現状
- サインアップ完了 = サインイン可能なユーザーとして扱われる
- 工程の完了状態を管理する仕組みが未実装

